[package]
name = "repositories"
version = "0.1.0"
edition = "2024"

[dependencies]
engine = { path = "../engine" }
tokio = { workspace = true }
tracing = { workspace = true }
thiserror = { workspace = true }
error-stack = { workspace = true }
serde_json = { workspace = true }
tokio-postgres = { version = "0.7.14", optional = true, features = ["with-serde_json-1", "with-chrono-0_4", "with-uuid-1"] }
refinery = { version = "0.8.16", optional = true, features = ["tokio-postgres"] }
optional-field = { workspace = true }
tokio-stream = { workspace = true }

[features]
postgres = ["dep:tokio-postgres", "refinery/tokio-postgres"]